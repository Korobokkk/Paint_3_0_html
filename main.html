<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="uft-8" />
    <title>Рисовашки</title>
  </head>

  <body>
    <h1>Рисовашки</h1>
    <p>Здесь вы можете рисовать <strong>всё</strong> что угодно!</p>
    <p onclick="text_display('help')">Если вам нужна помощь, <ins>нажмите сюда</ins></p>
    <div id="help" style="display: none">
      <p>HELP Текст</p>
    </div>
    <canvas id="canvas" width= '800' height= '600' style="border: 5px solid black;">
      Версия вашего браузера устарела. Загрузка canvas невозможна
    </canvas>
    <script>
      function text_display(id){
        const element = document.getElementById(id);
        if( element.style.display === 'none'){
          element.style.display = 'block';}
        else{
          element.style.display = 'none';
        }
      }

      function work_with_canvas(){
        const element= document.getElementById('canvas');
        const context= element.getContext('2d');
        
        let value_configuration=
        {
          color: '#000000',
          lineWidth: 3
        };

        context.strokeStyle = value_configuration.color;
        context.lineWidth = value_configuration.lineWidth;

        let check_painting=
        {
          isActive: false,
          startX: 0,
          startY: 0
        };
        function handleMouseDown(event)
        {
          check_painting.isActive= true;
          check_painting.startX= event.offsetX;
          check_painting.startY= event.offsetY;
        }
        function handleMouseUp(event)
        {
          if(!check_painting.isActive)
          {
            return;
          }
          let endX= event.offsetX;
          let endY= event.offsetY;
          drawLine(context, check_painting.startX, check_painting.startY, endX, endY);
          check_painting.isActive= false;
        }

        function drawLine(context, startX, startY, endX, endY)
        {
          context.beginPath();
          context.moveTo(startX, startY);
          context.lineTo(endX, endY);
          context.stroke();
        }
        element.addEventListener('mousedown', handleMouseDown);
        element.addEventListener('mouseup', handleMouseUp);
      }

      work_with_canvas();
    </script>
  </body>
</html>
